<Window x:Class="Segment.App.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Segment Settings" Height="600" Width="400"
        WindowStyle="None" ResizeMode="CanResize"
        AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterScreen"
        MinHeight="480" MinWidth="400" MaxHeight="800">

    <Border CornerRadius="10" Background="#252526" BorderBrush="#3E3E42" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="15" ShadowDepth="5" Opacity="0.4"/>
        </Border.Effect>

        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="SETTINGS &amp; CONFIGURATION" Foreground="#AAAAAA" FontWeight="Bold" FontSize="12" Margin="0,0,0,20"/>
                <Border Grid.Column="1" CornerRadius="10" Background="#1B5E20" Padding="8,3" Margin="0,0,0,16">
                    <TextBlock x:Name="LaunchPhaseBadgeText" Text="Phase: Phase0Readiness" Foreground="White" FontSize="11" FontWeight="SemiBold"/>
                </Border>
            </Grid>

            <!-- Scrollable Content Area -->
            <ScrollViewer Grid.Row="1" 
                         VerticalScrollBarVisibility="Auto" 
                         HorizontalScrollBarVisibility="Disabled"
                         Margin="0,0,0,10">
                <StackPanel>

                    <TextBlock Text="Target Language" Foreground="White" Margin="0,0,0,5" FontWeight="SemiBold"/>
                <ComboBox x:Name="LanguageCombo" 
                          Height="30" 
                          Margin="0,0,0,15" 
                          Padding="5" 
                          FontSize="13"
                          IsEditable="True" 
                          IsReadOnly="False"
                          TextSearch.TextPath="Content">
                    <ComboBoxItem Content="Turkish"/>
                    <ComboBoxItem Content="English"/>
                    <ComboBoxItem Content="German"/>
                    <ComboBoxItem Content="French"/>
                    <ComboBoxItem Content="Spanish"/>
                    <ComboBoxItem Content="Russian"/>
                    <ComboBoxItem Content="Japanese"/>
                    <ComboBoxItem Content="Italian"/>
                    <ComboBoxItem Content="Chinese"/>
                    <ComboBoxItem Content="Arabic"/>
                </ComboBox>

                <Border Height="1" Background="#3E3E42" Margin="0,5,0,15"/>

                <TextBlock Text="AI Provider" Foreground="White" Margin="0,0,0,5" FontWeight="SemiBold"/>
                <ComboBox x:Name="ProviderCombo" Height="30" Margin="0,0,0,15" Padding="5" FontSize="13" 
                          SelectionChanged="ProviderCombo_SelectionChanged">
                    <ComboBoxItem Content="Google Gemini (Cloud)" Tag="Google"/>
                    <ComboBoxItem Content="Ollama (Local / Offline)" Tag="Ollama"/>
                    <ComboBoxItem Content="Custom / OpenAI Compatible" Tag="Custom"/>
                </ComboBox>

                <StackPanel x:Name="GooglePanel" Visibility="Visible">
                    <TextBlock Text="API Key" Foreground="#CCCCCC" Margin="0,0,0,5" FontSize="11"/>
                    <PasswordBox x:Name="GoogleApiKeyBox" Height="30" Margin="0,0,0,10" Padding="5" Background="#1E1E1E" Foreground="White" BorderBrush="#444"/>

                    <TextBlock Text="Model Name" Foreground="#CCCCCC" Margin="0,0,0,5" FontSize="11"/>
                    <TextBox x:Name="GoogleModelBox" Height="30" Margin="0,0,0,5" Padding="5" Background="#1E1E1E" Foreground="White" BorderBrush="#444"/>
                    <TextBlock Text="Recommended: gemini-1.5-flash" Foreground="#666666" FontSize="10" FontStyle="Italic"/>
                </StackPanel>

                <StackPanel x:Name="OllamaPanel" Visibility="Collapsed">
                    <TextBlock Text="Server URL" Foreground="#CCCCCC" Margin="0,0,0,5" FontSize="11"/>
                    <TextBox x:Name="OllamaUrlBox" Height="30" Margin="0,0,0,10" Padding="5" Background="#1E1E1E" Foreground="White" BorderBrush="#444"/>

                    <TextBlock Text="Model Name" Foreground="#CCCCCC" Margin="0,0,0,5" FontSize="11"/>
                    <TextBox x:Name="OllamaModelBox" Height="30" Margin="0,0,0,5" Padding="5" Background="#1E1E1E" Foreground="White" BorderBrush="#444"/>
                    <TextBlock Text="Example: mistral, llama3.2" Foreground="#666666" FontSize="10" FontStyle="Italic"/>
                </StackPanel>

                <StackPanel x:Name="CustomPanel" Visibility="Collapsed">
                    <TextBlock Text="Base URL" Foreground="#CCCCCC" Margin="0,0,0,5" FontSize="11"/>
                    <TextBox x:Name="CustomUrlBox" Height="30" Margin="0,0,0,10" Padding="5" Background="#1E1E1E" Foreground="White" BorderBrush="#444"/>
                    <TextBlock Text="e.g. https://api.deepseek.com/v1" Foreground="#666666" FontSize="10" FontStyle="Italic" Margin="0,-5,0,10"/>

                    <TextBlock Text="API Key" Foreground="#CCCCCC" Margin="0,0,0,5" FontSize="11"/>
                    <PasswordBox x:Name="CustomApiKeyBox" Height="30" Margin="0,0,0,10" Padding="5" Background="#1E1E1E" Foreground="White" BorderBrush="#444"/>

                    <TextBlock Text="Model Name" Foreground="#CCCCCC" Margin="0,0,0,5" FontSize="11"/>
                    <TextBox x:Name="CustomModelBox" Height="30" Margin="0,0,0,5" Padding="5" Background="#1E1E1E" Foreground="White" BorderBrush="#444"/>
                </StackPanel>

                <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <Button Content="Import TMX" Click="ImportTmx_Click" Width="110" Height="26"
                            Background="#2D2D30" Foreground="#CCCCCC" BorderThickness="0"
                            Cursor="Hand" FontSize="11" Margin="0,0,10,0"/>
                    <TextBlock Text="Import translation memory (.tmx) into Global profile"
                               Foreground="#777777" FontSize="10" VerticalAlignment="Center"/>
                </StackPanel>

                    <CheckBox x:Name="StartupBox" 
                              Content="Start Segment with Windows" 
                              Foreground="White" 
                              FontSize="13"
                              Cursor="Hand"
                              VerticalContentAlignment="Center"/>
                    <TextBlock Text="Reflex Hotkeys" Foreground="White" Margin="0,12,0,6" FontWeight="SemiBold"/>
                    <TextBlock Text="Open overlay" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="ShowPanelHotkeyBox" Height="30" Margin="0,0,0,8" Text="Ctrl+Space" TextChanged="HotkeyText_Changed"/>
                    <TextBlock Text="Translate selection in place" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="TranslateInPlaceHotkeyBox" Height="30" Margin="0,0,0,8" Text="Ctrl+Shift+Space" TextChanged="HotkeyText_Changed"/>
                    <TextBlock x:Name="HotkeyConflictStatusText"
                               Text="Hotkey configuration is valid."
                               Foreground="#90CAF9"
                               TextWrapping="Wrap"
                               Margin="0,0,0,6"/>

                    <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                    <TextBlock Text="Launch Phase Admin" Foreground="White" Margin="0,0,0,8" FontWeight="SemiBold"/>
                    <ComboBox x:Name="LaunchPhaseCombo"
                              Height="30"
                              Margin="0,0,0,10"
                              SelectionChanged="LaunchPhaseCombo_SelectionChanged"/>

                    <TextBlock Text="Preview Context" Foreground="#CCCCCC" Margin="0,0,0,8" FontSize="11"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <CheckBox x:Name="PreviewAdminCheck" Content="Admin" Foreground="#DDDDDD" Margin="0,0,14,0" Checked="PreviewContext_Changed" Unchecked="PreviewContext_Changed"/>
                        <CheckBox x:Name="PreviewInvitedCheck" Content="Invited" Foreground="#DDDDDD" Margin="0,0,14,0" Checked="PreviewContext_Changed" Unchecked="PreviewContext_Changed"/>
                        <CheckBox x:Name="PreviewLegalCheck" Content="Legal Niche" Foreground="#DDDDDD" Margin="0,0,14,0" Checked="PreviewContext_Changed" Unchecked="PreviewContext_Changed"/>
                        <CheckBox x:Name="PreviewAgencyCheck" Content="Agency" Foreground="#DDDDDD" Checked="PreviewContext_Changed" Unchecked="PreviewContext_Changed"/>
                    </StackPanel>
                    <CheckBox x:Name="PreviewPilotContractCheck" Content="Pilot Contract Signed" Foreground="#DDDDDD" Margin="0,0,0,10" Checked="PreviewContext_Changed" Unchecked="PreviewContext_Changed"/>

                    <TextBlock x:Name="LaunchPhasePreviewText" Text="Select a phase to preview gate impact." Foreground="#8BC34A" TextWrapping="Wrap" Margin="0,0,0,10"/>
                    <Button Content="Apply Launch Phase" Click="ApplyLaunchPhase_Click" Width="150" Height="28"
                            Background="#2E7D32" Foreground="White" BorderThickness="0" Cursor="Hand"/>

                    <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                    <TextBlock Text="Plans &amp; Packaging" Foreground="White" Margin="0,0,0,8" FontWeight="SemiBold"/>
                    <TextBlock Text="Plan" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <ComboBox x:Name="PricingPlanCombo" Height="30" Margin="0,0,0,8" SelectionChanged="PricingSelection_Changed"/>
                    <TextBlock Text="Billing" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <ComboBox x:Name="BillingIntervalCombo" Height="30" Margin="0,0,0,8" SelectionChanged="PricingSelection_Changed"/>
                    <TextBlock Text="Seats" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="SeatCountBox" Height="30" Margin="0,0,0,8" TextChanged="PricingSelection_Changed"/>
                    <CheckBox x:Name="PlatformFeeBox" Content="Apply optional platform fee" Foreground="#DDDDDD" Margin="0,0,0,10" Checked="PricingSelection_Changed" Unchecked="PricingSelection_Changed"/>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Preview Plan" Click="PreviewPlan_Click" Width="100" Height="28" Margin="0,0,8,0"
                                Background="#455A64" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Upgrade" Click="UpgradePlan_Click" Width="80" Height="28" Margin="0,0,8,0"
                                Background="#1565C0" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Downgrade" Click="DowngradePlan_Click" Width="90" Height="28"
                                Background="#6D4C41" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <TextBlock x:Name="PricingDetailsText" Text="Select a plan to preview pricing and entitlements."
                               Foreground="#90CAF9" TextWrapping="Wrap"/>
                    <TextBlock Text="Plan Gate Admin" Foreground="White" Margin="0,10,0,6" FontWeight="SemiBold"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Inspect Entitlements" Click="InspectEntitlements_Click" Width="145" Height="28" Margin="0,0,8,0"
                                Background="#37474F" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <TextBlock x:Name="EntitlementStatusText" Text="Entitlement inspection is ready."
                               Foreground="#B0BEC5" TextWrapping="Wrap"/>

                    <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                    <TextBlock Text="Partnership GTM" Foreground="White" Margin="0,0,0,8" FontWeight="SemiBold"/>
                    <CheckBox x:Name="PilotWorkspaceModeBox" Content="Enable Pilot Workspace Mode" Foreground="#DDDDDD" Margin="0,0,0,4"/>
                    <CheckBox x:Name="DemoDatasetModeBox" Content="Enable Demo Dataset Mode" Foreground="#DDDDDD" Margin="0,0,0,10"/>
                    <TextBlock Text="Account ID" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="AccountIdBox" Height="30" Margin="0,0,0,8" TextChanged="AccountIdentity_Changed"/>
                    <TextBlock Text="Account Name" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="AccountNameBox" Height="30" Margin="0,0,0,8"/>
                    <TextBlock Text="Partner Tags (comma-separated)" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="PartnerTagsBox" Height="30" Margin="0,0,0,8"/>
                    <TextBlock Text="Agency Name" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="PilotAgencyNameBox" Height="30" Margin="0,0,0,8"/>
                    <TextBlock Text="Seat Limit" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="PilotSeatLimitBox" Height="30" Margin="0,0,0,8" Text="5"/>
                    <TextBlock Text="Invite Email" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="PilotInviteEmailBox" Height="30" Margin="0,0,0,8"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Setup Pilot Workspace" Click="SetupPilotWorkspace_Click" Width="150" Height="28" Margin="0,0,8,0"
                                Background="#6A1B9A" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Invite Seat" Click="InvitePilotSeat_Click" Width="90" Height="28" Margin="0,0,8,0"
                                Background="#283593" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Preview Demo Replay" Click="PreviewDemoReplay_Click" Width="130" Height="28"
                                Background="#00838F" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Export Pilot Summary" Click="ExportPilotSummaryTemplate_Click" Width="130" Height="28" Margin="0,0,8,0"
                                Background="#4E342E" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Export Glossary Report" Click="ExportGlossaryQualityTemplate_Click" Width="140" Height="28"
                                Background="#1B5E20" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <TextBlock x:Name="PilotWorkspaceStatusText" Text="Pilot workspace mode is available for agency pilots."
                               Foreground="#B39DDB" TextWrapping="Wrap"/>

                    <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                    <TextBlock Text="Compliance Evidence" Foreground="White" Margin="0,0,0,8" FontWeight="SemiBold"/>
                    <TextBlock Text="Confidentiality Mode" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <ComboBox x:Name="ConfidentialityModeCombo"
                              Height="30"
                              Margin="0,0,0,6"
                              SelectionChanged="ConfidentialityModeCombo_SelectionChanged">
                        <ComboBoxItem Content="Standard"/>
                        <ComboBoxItem Content="RedactedCloud"/>
                        <ComboBoxItem Content="LocalOnly"/>
                    </ComboBox>
                    <CheckBox x:Name="ConfidentialProjectModeBox"
                              Content="Confidential project mode (hard local-only routing)"
                              Foreground="#DDDDDD"
                              Margin="0,0,0,6"
                              Checked="TelemetrySetting_Changed"
                              Unchecked="TelemetrySetting_Changed"/>
                    <CheckBox x:Name="GuardrailOverrideBox"
                              Content="Allow guardrail overrides on frozen glossary profiles"
                              Foreground="#DDDDDD"
                              Margin="0,0,0,8"
                              Checked="TelemetrySetting_Changed"
                              Unchecked="TelemetrySetting_Changed"/>
                    <CheckBox x:Name="QaStrictModeBox"
                              Content="Strict QA mode for legal/regulatory workflows"
                              Foreground="#DDDDDD"
                              Margin="0,0,0,8"
                              Checked="TelemetrySetting_Changed"
                              Unchecked="TelemetrySetting_Changed"/>
                    <CheckBox x:Name="MinimizeDiagnosticLoggingBox"
                              Content="Minimize diagnostic logs (privacy mode)"
                              Foreground="#DDDDDD"
                              Margin="0,0,0,6"
                              Checked="TelemetrySetting_Changed"
                              Unchecked="TelemetrySetting_Changed"/>
                    <CheckBox x:Name="EnforceApprovedProvidersBox"
                              Content="Block non-approved providers"
                              Foreground="#DDDDDD"
                              Margin="0,0,0,6"
                              Checked="TelemetrySetting_Changed"
                              Unchecked="TelemetrySetting_Changed"/>
                    <TextBlock Text="Approved Providers (comma-separated routes: Google,Ollama,Custom)"
                               Foreground="#CCCCCC"
                               Margin="0,0,0,4"
                               FontSize="11"/>
                    <TextBox x:Name="ApprovedProvidersBox"
                             Height="30"
                             Margin="0,0,0,8"
                             TextChanged="TelemetryText_Changed"/>
                    <CheckBox x:Name="PreferLocalProcessingPathBox"
                              Content="Prefer local processing path hook (route through Ollama)"
                              Foreground="#DDDDDD"
                              Margin="0,0,0,8"
                              Checked="TelemetrySetting_Changed"
                              Unchecked="TelemetrySetting_Changed"/>
                    <TextBlock Text="Retention Policy Summary" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="RetentionPolicySummaryBox"
                             Height="58"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             Margin="0,0,0,8"
                             TextChanged="TelemetryText_Changed"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Refresh Disclosure" Click="RefreshDataHandlingDisclosure_Click" Width="125" Height="28" Margin="0,0,8,0"
                                Background="#455A64" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Export Audit Log" Click="ExportComplianceAudit_Click" Width="120" Height="28"
                                Background="#2E7D32" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <TextBlock x:Name="DataHandlingDisclosureText"
                               Text="Data handling disclosure is ready."
                               Foreground="#A5D6A7"
                               TextWrapping="Wrap"
                               Margin="0,0,0,6"/>
                    <TextBlock x:Name="ComplianceAuditStatusText"
                               Text="Audit export status will appear here."
                               Foreground="#81D4FA"
                               TextWrapping="Wrap"/>

                    <TextBlock Text="Telemetry Consent" Foreground="White" Margin="0,10,0,6" FontWeight="SemiBold"/>
                    <CheckBox x:Name="TelemetryUsageMetricsBox" Content="Usage metrics telemetry" Foreground="#DDDDDD" Margin="0,0,0,4" Checked="TelemetrySetting_Changed" Unchecked="TelemetrySetting_Changed"/>
                    <CheckBox x:Name="TelemetryCrashDiagnosticsBox" Content="Crash diagnostics telemetry" Foreground="#DDDDDD" Margin="0,0,0,4" Checked="TelemetrySetting_Changed" Unchecked="TelemetrySetting_Changed"/>
                    <CheckBox x:Name="TelemetryModelOutputBox" Content="Model output telemetry (redacted)" Foreground="#DDDDDD" Margin="0,0,0,4" Checked="TelemetrySetting_Changed" Unchecked="TelemetrySetting_Changed"/>
                    <CheckBox x:Name="TelemetryConsentLockBox" Content="Lock telemetry consent to this account" Foreground="#DDDDDD" Margin="0,0,0,6" Checked="TelemetrySetting_Changed" Unchecked="TelemetrySetting_Changed"/>
                    <TextBlock x:Name="TelemetryLockStatusText"
                               Text="Telemetry consent lock is not enabled."
                               Foreground="#FFCC80"
                               TextWrapping="Wrap"/>

                    <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                    <TextBlock Text="PMF Dashboard" Foreground="White" Margin="0,0,0,8" FontWeight="SemiBold"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Refresh PMF Snapshot" Click="RefreshPmfDashboard_Click" Width="145" Height="28" Margin="0,0,8,0"
                                Background="#37474F" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Export PMF Snapshot" Click="ExportPmfSnapshot_Click" Width="135" Height="28"
                                Background="#455A64" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Export Niche Metrics" Click="ExportNicheTelemetryMetrics_Click" Width="145" Height="28"
                                Background="#546E7A" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <TextBlock x:Name="PmfDashboardText"
                               Text="PMF metrics dashboard is ready."
                               Foreground="#A5D6A7"
                               TextWrapping="Wrap"/>

                    <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                    <TextBlock Text="Niche Project Templates" Foreground="White" Margin="0,0,0,8" FontWeight="SemiBold"/>
                    <TextBlock Text="Template" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <ComboBox x:Name="NicheTemplateCombo" Height="30" Margin="0,0,0,8" DisplayMemberPath="Name"/>
                    <TextBlock Text="Project Profile Name" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="NicheProjectNameBox" Height="30" Margin="0,0,0,8"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Create from Template" Click="CreateProjectFromTemplate_Click" Width="145" Height="28" Margin="0,0,8,0"
                                Background="#1E88E5" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Export Niche Pack" Click="ExportNichePack_Click" Width="130" Height="28"
                                Background="#00695C" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <Button Content="Import Niche Pack" Click="ImportNichePack_Click" Width="130" Height="28"
                                Background="#5D4037" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>
                    <TextBlock x:Name="NicheTemplateStatusText"
                               Text="Create a project profile preloaded with niche glossary/style/QA defaults."
                               Foreground="#90CAF9"
                               TextWrapping="Wrap"/>

                    <Border Height="1" Background="#3E3E42" Margin="0,15,0,15"/>

                    <TextBlock Text="Viral Loops" Foreground="White" Margin="0,0,0,8" FontWeight="SemiBold"/>
                    <TextBlock Text="User ID (for share/import attribution)" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="ViralUserIdBox" Height="30" Margin="0,0,0,8" Text="user-local"/>
                    <TextBlock Text="Referral Code (optional on export)" Foreground="#CCCCCC" Margin="0,0,0,4" FontSize="11"/>
                    <TextBox x:Name="ViralReferralCodeBox" Height="30" Margin="0,0,0,8"/>
                    <StackPanel Orientation="Horizontal">
                        <Button Content="Export Legal Pack" Click="ExportLegalPack_Click" Width="120" Height="28" Margin="0,0,8,0"
                                Background="#00695C" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                        <Button Content="Import Shared Pack" Click="ImportSharedPack_Click" Width="130" Height="28"
                                Background="#5D4037" Foreground="White" BorderThickness="0" Cursor="Hand"/>
                    </StackPanel>

                </StackPanel>
            </ScrollViewer>

            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Content="Cancel" Click="Cancel_Click" Width="80" Height="30" Margin="0,0,10,0" Background="Transparent" Foreground="#AAAAAA" BorderThickness="0" Cursor="Hand"/>
                <Button Content="Save" Click="Save_Click" Width="80" Height="30" Background="#007ACC" Foreground="White" BorderThickness="0" Cursor="Hand" FontWeight="SemiBold"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
